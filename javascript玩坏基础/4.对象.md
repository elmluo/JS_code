## 对象
- 对象的结构、创建对象、属性操作、getter/setter、属性标签、对象标签、序列化、对象方法
 
#### 概述
- 对象中包含一系列属性，这些属性是无序的，每个属性都有一个字符串key和对应的value。
 ```javascript
    var obj = {
        siteId: 1234, 
        address: "kkkllll"
    };
    obj.siteId;     //1
    obj.address;    //2
 ```
 
- 对象属性当中的key
 ```javascript
    var devices = {};
    devices[1] = 1;     //赋值
    devices['1'] = 2;   //修改值
    devices;    // Object{1:2}
 ```
 
#### 对象结构

```javascript
    // 对象添加属性和方法
    var person = {};
    person.todo = function () {
        alart("123")
    };
    person.name = "小刘";
    person.age = "123456";
    
    // 构造函数
    function Device () {};
    Device.prototype.age = 33;
    var device = new Device();
    device.age      // 33
```

 - 标签:
  - [[proto]]：每个对象都有指向“原型链”
  - [[class]]
  - [[extensible]]：是否可扩展，及时是否可以为对象添加属性和方法
 - 属性
  - writable:是否可写、enumerable枚举、configurable可删除、value属性赋值、get/set.
   
#### 对象创建、原型链

- 创建-字面量

```javascript

var desk = {
    with: 1000,
    hight: 800
};

// 对象可以嵌套对象
var chair = {
    with: 500,
    height: 300
    mesh: {
        material: "tree",
        cube: "geotory"
    }
};

```

- 创建-new/原型链

```javascript
    // 创建构造函数
    function AirCon () {
        this.color = 'yellow';
        this.material = 'glass';
    };
    AirCon.prototype.price = "$400";

    var ariCon1 = new AirCon();
    var ariCon1.x = 2;
    var ariCon1.y = 3;

    ariCon1.x;      //2
    ariCon2.y;      //3
    ariCon2.price   //"$400"

    type of ariCon1.toString;   //'function'
    'price' in obj;     //true in方法判断属性是会向原型上查找的。 
    ariCon1.hasOwnProperty('z');    // false

    // *** 原型链 ***
    // airCon1(包含： [[proto]]; x = 1 ;y = 2;)---->AriCon.prototype(包含： [[proto]] price = '$400')----》Object.prototype(包含：)---->null


    // 在对象实例上修改和原型相同的属性不会影响原型
    ariCon1.price = '$800';
    ariCon1.hasOwnProperty('x');    //true
    AriCon.prototype.z;      // still $400
    ariCon1.price;           // $800

    ariCon1.z = undefined;       // 添加undefined的值
    ariCon1.z;                   // undefined

    delete ariCon1.price;       // true 注意如果重复的delete某个属性，然而之前的delete都为true，任然返回true。
    ariCon1.price;               // $400
```

- 对象创建-Object.create(obj);

```javascript
    // 用Object.create() 原生方法创建对象的话，原型链先指向传入对象参数
    // 原型链：obj --->{name: '小刘'，age: '123'}--->Objcet.protoType--->null
    var obj = Object.create({
        name: "小刘", 
        age: "123"
    })
    typeof obj.toString     // "function"
    obj.hasOwnProperty('name');     //false
    
    // 原型链 obj--->null;
    var obj = Object.create(null);
    obj.toString // undefined
```
  
#### 对象属性操作

- 读写对象属性、属性异常、删除属性、检测属性、枚举属性
 
- 属性读写

```javascript
    var obj = {x:1, y:2};
    obj.x;      //1
    obj.y;      //2
    obj["x"];   // 写入属性[]传入字符串，如果不是，会隐身转换成字符串
    obj.y = 4;      // write property 
    var obj = {x1 : 1, x2: 2};      // [] 一般属性为“变量”或者需要“拼接”字符串的时候
    var i = 1, n=2;
    for (; i<=n; i++) {
        console.log(obj['x'] + i)       // 1,2
    }
    // 遍历对象属性的时候，注意原型对象prototype上属性页会被遍历
    // 除非把自定义构造函数 属性不可枚举   defineProperty(obj, key, {value: 1000, enumerable: false})
    var p;
    for (p in obj) {
        console.log(obj[p]);
    }
```

- 属性读写-异常

```javascript
    var obj = {x: 1};
    obj.y;  //undefined
    var yz = obj.y.z    //TypeError: Cannot read property 'z' of undefined 
    obj.y.z = 2;        //TypeError: Cannot set property 'z' of undefined
    
    /*对值是否存在判断*/
    var yz;
    // if检测
    if (obj.y) {
        yz = obj.y.z
    }
    // 表达式
    var yz = obj && obj.y && obj.y.z;
```

- 属性删除

```javascript
    var person = {
        age: 28,
        title: 'free'
    }
    delete person.age;      //true
    delete person['title'];     //true
    person.age;     // undefined
    delete person.age;      //true
    delete Object.prototype;    //false
    
    //查看指定对象属性
    var descriptor = Object.getOwnPropertyDescriptor(Object, 'prototype');
    descriptor.configurable;    //false
    
    // 全局变量、对象不可删除
    var globalVal = 1;
    delete globalVal;       //false
    
    ( function () {
        var localVal = 1;
        return delete localVal;     //false
    }() );
    
    function fd () {}
    delete fd;      // false
    
    ( function () {
        function fd() {};
        return delete fd;
    }() );       // false
    
    // 未声明直接创建的全局变量是可以删除的，不过不常用。
    ohNo = 1;
    window.ohNo;    // 1
    delete ohNo;    // true
```

- 属性检测

```javascript
    var cat = new Object();
    cat.legs = 4;
    cat.name = "kitty";
    
    'legs' in cat;   //true;
    'abc' in cat;    //fase;
    'toString' in cat;   // true ,inherited prototype!!!!
    
    cat.hasOwnProperty('legs');      //true
    cat.hasOwnProperty('toString')      //false
    
    cat.propertyIsEnumerable('legs');   //true
    cat.propertyIsEnumerable('toString')    //false
    
    // 添加定义属性
    Object.defineProperty(cat, 'price', {
        enumerable: false,
        value: 1000
    });
    cat.propertyIsEnumerable('price');  //false
    cat.hasOwnProperty('price')     //true
   
    // undefined == null; !undefined: 未定义 或 值为空
    if (cat && cat.legs) {
        cat.legs * = 2;
    }
    
    if (cat.legs != undefined) {
        // !==undefined, or !== null
    }
    
    if(cat.legs !== undefined) {
        // 当且仅当 cat.legs is not defined
    }
 ```
  
