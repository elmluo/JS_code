<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>查询元素的几何尺寸</title>
</head>
<body>
	<div style="width: 100px, height: 200px" class="box">
		
	</div>
	<script>
		
		// 获得元素的文档位置
		var box = document.documentElement.getBoundingClientRect(); // 获得在视口坐标中的位置
		var offsets = getScrollOffsets();  // 使用下面的工具函数
		var x = box.left + offsets.x; // 转化为文档坐标。
		var y = box.top + offsets.y;

		// 获得元素的长宽
		var w = box.width || (box.right - box.left);
		var h = box.height || (box.top - box.bottom);

		function getScrollOffsets(w) {
			// 使用定义的窗口，如果不带参数，则使用当前窗口
			w = w || window;

			// 除了IE8以及更早的版本以外，其他的浏览器都能用
			if (w.pageXOffset != null) return {x: w.pageXOffset, y: w.pageYOffset};

			// 标准浏览器
			var d = w.document;
			if (document.compatMode == "CSS1Compat") {
				return {x: d.documentElement.scrollLeft, y: d.documentElement.scrollTop};
			}
			return {x: d.body.scrollLeft, y: d.body.scrollTop};
		}


		console.log("x:" + x);
		console.log("y:" + y);
		console.log("w:" + w);
		console.log("h:" + h);

	
	</script>
</body>
</html>